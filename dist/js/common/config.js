var pageConfig={indexShop:{js:["shop/static/js/index/index.min.js"],css:["shop/static/css/index/styles.css"],title:"店铺首页"},indexShopMerchant:{js:["shop/static/js/index/index.min.js"],css:["shop/static/css/index/styles.css"],title:"联系商家"},indexAllProducts:{js:["shop/static/js/index/index.min.js"],css:["shop/static/css/index/styles.css"],title:"全部产品"},indexShopLatest:{js:["shop/static/js/index/index.min.js"],css:["shop/static/css/index/styles.css"],title:"最新产品"},indexProductCatalog:{js:["shop/static/js/index/index.min.js"],css:["shop/static/css/index/styles.css"],title:"产品目录"},indexProductRecommend:{js:["shop/static/js/index/index.min.js"],css:["shop/static/css/index/styles.css"],title:"推荐产品"},productDetail:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"产品详情"},productNotFound:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"没有找到你想要访问的产品"},detailHotel:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"酒店详情"},detailOther:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"其他事项"},detailTravel:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"行程介绍"},detailViewport:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"景点详情"},detailLifeStyle:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"吃喝玩乐"},detailBookNotice:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"预定须知"},detailComment:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"评论"},detailCustomEvent:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"自定义事件"},detailCustomHotel:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"自定义酒店"},detailCustomLifeStyle:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"自定义吃喝玩乐"},detailCustomTraffic:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"自定义交通"},detailCustomViewspot:{js:["shop/static/js/detail/detail.min.js"],css:["shop/static/css/detail/detail.css"],title:"自定义景点"},snapshotDetail:{js:["shop/static/js/detail/detailSnapshot.min.js"],css:["shop/static/css/detail/snapshot.css"],title:"交易快照"},snapTravel:{js:["shop/static/js/detail/detailSnapshot.min.js"],css:["shop/static/css/detail/detail.css"],title:"行程介绍"},payfillOrder:{js:["shop/static/js/pay/order.min.js"],css:["shop/static/css/pay/order.css"],title:"提交订单"},payOrderContacts:{js:["shop/static/js/pay/order.min.js"],css:["shop/static/css/pay/order.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},payOrderResult:{js:["shop/static/js/pay/pay.min.js"],css:["shop/static/css/pay/order.css"],title:"订单提交成功"},payOrderResult2:{js:["shop/static/js/pay/pay2.min.js"],css:["shop/static/css/pay/order.css"],title:"订单提交成功-二次确认"},paySuccess:{js:["shop/static/js/pay/order.min.js"],css:["shop/static/css/pay/order.css"],title:"支付完成"},allShop:{js:["shop/static/js/home/allShop.min.js"],css:["shop/static/css/home/allShop.css"],title:"店铺列表"},user_pageCurrent:{js:["shop/static/js/home/memeberUser.min.js","shop/static/js/home/userCenter.min.js"],css:["shop/static/css/home/memberUser.css","shop/static/css/home/memberMyCollection.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},homeInformation:{js:["shop/static/js/home/information.min.js"],css:["shop/static/css/home/information.css"],title:"常用联系人"},homeAddInformation:{js:["shop/static/js/home/information.min.js"],css:["shop/static/css/home/information.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},homeEditInformation:{js:["shop/static/js/home/information.min.js"],css:["shop/static/css/home/information.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},accountsSafe:{js:["shop/static/js/home/accountSafe.min.js"],css:["shop/static/css/home/style.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},accountsetting:{js:["shop/static/js/home/accountSetting.min.js"],css:["shop/static/css/home/style.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},changename:{js:["shop/static/js/home/information.min.js"],css:["shop/static/css/home/style.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},changepassword1:{js:["shop/static/js/home/changepassword.min.js"],css:["shop/static/css/home/style.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},changepassword2:{js:["shop/static/js/home/changepassword.min.js"],css:["shop/static/css/home/style.css"],title:"修改登录密码"},memberArbitration:{js:["shop/static/js/home/_memberArbitration.min.js","shop/static/js/home/memeberUser.min.js"],css:["shop/static/css/home/memberUser.css"],title:"申请仲裁"},memberEvaluate:{js:["shop/static/js/home/_memberEvaluate.min.js","shop/static/js/home/memeberUser.min.js"],css:["shop/static/css/home/memberUser.css"],title:"评价"},page_member_order:{js:["shop/static/js/home/_memberOrder.min.js"],css:["shop/static/css/home/memberUser.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},suggestion_pageCurrent:{js:["shop/static/js/home/suggestion.min.js"],css:["shop/static/css/home/style.css"],title:"意见反馈"},refund_pageCurrent:{js:["shop/static/js/home/_memberRefund.min.js"],css:["shop/static/css/home/memberUser.css"],title:"申请退款"},orderDetail_pageCurrent:{js:["shop/static/js/home/memeberUser.min.js","shop/static/js/home/_memberOrderDetails.min.js"],css:["shop/static/css/home/memberUser.css"],title:"订单详情"},mynews_pageCurrent:{js:["shop/static/js/home/_memberMynews.min.js"],css:["shop/static/css/home/memberUser.css"],title:"我的消息"},page_myCollection:{js:["shop/static/js/home/memeberUser.min.js","shop/static/js/home/_memberMyCollectionPro.min.js"],css:["shop/static/css/home/memberUser.css","shop/static/css/home/memberMyCollection.css"],title:"特色旅游_高端旅游_主题旅游_酷鸟"},search_page:{js:["shop/static/js/search/search.min.js"],css:["shop/static/css/search/search.css"],title:"搜索"},searchShop_page:{js:["shop/static/js/search/searchShop.min.js"],css:["shop/static/css/search/searchShop.css","shop/static/css/index/styles.css"],title:"店铺搜索"},searchProduct_page:{js:["shop/static/js/search/searchProduct.min.js"],css:["shop/static/css/index/styles.css","shop/static/css/common/style.css","shop/static/css/search/searchProduct.css"],title:"产品搜索"},about_404:{js:[],css:["shop/static/css/about/404.css"],title:"404"}},serverBase="/",PageLoad={pageId:"",cacheFile:{js:[],css:[]},init:function(s){this.pageId=s,this.loadCss(),this.loadJs()},loadJs:function(){if("undefied"!=typeof pageConfig[this.pageId]){for(var s=pageConfig[this.pageId].js,t=0;t<s.length;t++)if(!this.isLoad(s[t],"js")){var e=document.createElement("script"),i=serverBase+s[t];e.setAttribute("type","text/javascript"),e.setAttribute("src",i),document.getElementsByTagName("body")[0].appendChild(e),this.cacheFile.js.push(s[t])}}else console.log("这个pageId不存在配置中!")},loadCss:function(){if("undefied"!=typeof pageConfig[this.pageId]){for(var s=pageConfig[this.pageId].css,t=0;t<s.length;t++)if(!this.isLoad(s[t],"css")){var e=document.createElement("link"),i=serverBase+s[t];e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),document.getElementsByTagName("head")[0].appendChild(e),this.cacheFile.css.push(s[t])}}else console.log("这个pageId不存在配置中!")},isLoad:function(s,t){var e=[];"css"===t?e=this.cacheFile.css:"js"==t&&(e=this.cacheFile.js);for(var i=0;i<e.length;i++)if(e[i]===s)return!0;return!1},firstHander:function(){var s=$(".page-current").attr("id");if(!pageConfig.hasOwnProperty(s))return!1;for(var t=pageConfig[s].js,e=0;e<t.length;e++)this.cacheFile.js.push(t[e]);for(var i=pageConfig[s].css,e=0;e<t.length;e++)this.cacheFile.css.push(i[e])},recordHref:function(){var s=encodeURIComponent(location.href);$.ajax({url:"/m/api/global/visited.json?url="+s,type:"get",dataType:"json",success:function(){}})},changeTitile:function(s){return!!pageConfig.hasOwnProperty(s)&&void(document.title=pageConfig[s].title)}};PageLoad.firstHander(),$(document).on("pageAnimationStart",".page",function(s,t,e){$.closeModal(".picker-modal.modal-in"),PageLoad.init(t)}),$(document).on("pageAnimationEnd",".page",function(s,t,e){PageLoad.changeTitile(t)}),$(document).on("pageInit",function(s,t,e){PageLoad.recordHref()});